<header>

    <nav class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar">
        <a class="navbar-brand" href="/"><strong>News Collection</strong></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="/">Search Articles <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/saved">Saved Articles</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="view intro-2" style="">
        <div class="full-bg-img">
            <div class="mask rgba-blue-light pattern-1 flex-center">
                <div class="container text-center white-text wow fadeInUp">
                    <h1 class="title">NEWS COLLECTION</h1>

                </div>
            </div>
        </div>
    </div>

</header>
<main class="main-content">
    <div class="heading mask pattern-1">
        <h1>Your Saved Articles</h1>
    </div>


    <div id="list-container" class="container-fluid">
        <div class="row">

            {{#each article}}
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                <div class="card">
                    <span class="delete-article" data-id={{this._id}} aria-hidden="true">Delete Article<i
                            class="fas fa-2x fa-times-circle"></i></span>
                    </button>
                    <a href={{this.link}}>

                        <div class="card-img-top mask rgba-blue-strong">
                            <img src={{this.image}} height="200px" width="100%">
                        </div>
                        <div class="card-body">
                            <h2 class="card-title">{{this.headline}}</h2>
                            <hr>
                            <p class="byline"><span>By: </span>{{this.author}}</small>
                                <p class="card-text">{{this.summary}}</p>
                        </div>
                    </a>
                    <div class="button-container">
                        <div class="text-center pb-3 add-comment-button">
                            <a class="btn btn-primary" data-id={{this._id}}>Add Comment<i
                                    class="fas pl-2 fa-plus"></i></a>
                        </div>
                        <div class="text-center pb-3 view-comments-button">
                            <a class="btn btn-primary" data-id={{this._id}}>View<i class="far pl-2 fa-eye"></i></a>
                        </div>
                    </div>
                </div>

            </div>
            {{/each}}

        </div>
    </div>

    <!-- ---------------------------------- ADD NEW COMMENT MODAL FORM ------------------------------------------------>
    {{#each note}}
    {{/each}}
    <div class="modal modal-lg" id="add-comment-form" role="dialog" aria-labelledby="myModalLabel"
        data-backdrop="false">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header text-center">
                    <h4 class="sign-in-text modal-title w-100 font-weight-bold">Add New Comment</h4>
                    <button class="close-modal" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form id="newTaskForm" class="modal-body mx-3">

                    <div class="form-group shadow-textarea">
                        <textarea class="form-control z-depth-1" id="add-comment-text-submit" rows="3"
                            placeholder="Add comment here..."></textarea>
                    </div>

                    <div class="modal-footer d-flex justify-content-center">
                        <button type="submit" id="add-comment" data-note-id={{this._id}}
                            data-article-id={{this.article}} class="btn btn-primary">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ---------------------------------- VIEW COMMENTS MODAL ------------------------------------------------>
    {{#if this.notes}}
    {{#each this.notes}}
    <div class="modal modal-lg" id="view-comments-modal" role="dialog" aria-labelledby="myModalLabel"
        data-backdrop="false">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header text-center">
                    <h4 class="sign-in-text modal-title w-100 font-weight-bold">Notes and Comments</h4>
                    <button type="submit" class="close-modal" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="comment-container">
                    <span class="delete-comment" data-note-id={{this._id}} data-article-id={{this.article}}
                        aria-hidden="true">Delete Comment<i class="fas ml-2 fa-lg fa-times-circle"></i></span>
                    <p>{{this.body}}</p>
                </div>


            </div>
        </div>
    </div>
    {{/each}}
    {{else}}
    <div class="modal modal-lg" id="view-comments-modal" role="dialog" aria-labelledby="myModalLabel"
        data-backdrop="false">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header text-center">
                    <h4 class="sign-in-text modal-title w-100 font-weight-bold">Notes and Comments</h4>
                    <button type="submit" class="close-modal" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="comment-container">
                    <p>You have no comments on this article</p>
                </div>


            </div>
        </div>
    </div>
    {{/if}}
</main>